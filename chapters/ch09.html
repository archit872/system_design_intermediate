<!-- /chapters/ch09.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chapter 9 — Capstone Project: End-to-End System Design</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Apply all concepts in a capstone project: design and document a scalable real-world system, defend trade-offs, and present architecture end-to-end.">
  <meta property="og:title" content="Chapter 9 — Capstone Project: End-to-End System Design">
  <meta property="og:description" content="Final project to integrate networking, storage, scaling, security, observability, and trade-offs into a complete system design.">
  <base href="../">
  <link rel="stylesheet" href="styles/theme.css">
  <script defer src="scripts/app.js"></script>
</head>
<body>
  <!-- ================= NAV (Canonical; verbatim) ================= -->
  <nav class="app-nav">
    <div class="bar">
      <div class="brand"><a href="index.html">System Design</a></div>
      <button class="menu-btn" data-nav-toggle aria-expanded="false">Menu</button>
      <div class="spacer"></div>
      <div class="links">
        <a href="index.html">Home</a>
        <a href="chapters/ch01.html">Chapters</a>
        <a href="chapters/appendix.html">Appendix</a>
        <a href="chapters/glossary.html">Glossary</a>
      </div>
    </div>
  </nav>

  <!-- ================= HERO ================= -->
  <header class="page-hero container">
    <div class="badge">Chapter 9</div>
    <h1>Capstone Project: End-to-End System Design</h1>
    <p>
      Time to put everything together. This <strong>capstone project</strong> challenges you to design
      an end-to-end system, integrating <strong>networking</strong>, <strong>data management</strong>,
      <strong>scaling</strong>, <strong>security</strong>, and <strong>observability</strong>.
      You’ll justify <strong>trade-offs</strong>, produce diagrams, and present a cohesive architecture.
    </p>
  </header>

  <main class="container">
    <!-- ============== PROJECT BRIEF ============== -->
    <section class="section">
      <h2>Project Brief</h2>
      <p>
        Pick one option—or propose your own—and design a system that could realistically be deployed and scaled.
        Each option includes inherent challenges across layers.
      </p>
      <ol>
        <li><strong>Food Delivery Platform:</strong> real-time order dispatch, user tracking, payments.</li>
        <li><strong>Chat Application:</strong> low-latency messaging, offline support, message history.</li>
        <li><strong>Video Streaming Service:</strong> content delivery, recommendations, multi-device support.</li>
      </ol>
      <div class="callout info">
        <strong>Deliverables:</strong>
        <ul>
          <li>Architecture diagrams (logical + deployment)</li>
          <li>Storage design and sharding strategy</li>
          <li>Communication model (sync/async, retries, backoff)</li>
          <li>Scaling plan (caching, replication, failover)</li>
          <li>Security &amp; privacy controls</li>
          <li>Observability plan (metrics, logs, traces, SLOs)</li>
        </ul>
      </div>
    </section>

    <!-- ============== APPROACH & EXPECTATIONS ============== -->
    <section class="section">
      <h2>Approach &amp; Expectations</h2>
      <p>
        Treat this like a design review. Your peers or mentor should be able to read the document
        and understand <em>why</em> you made each choice. You’re not graded on perfection but on
        <strong>clarity of trade-offs</strong>.
      </p>
      <h3>Steps</h3>
      <ol>
        <li>Define functional &amp; non-functional requirements.</li>
        <li>Sketch high-level architecture (boxes &amp; arrows).</li>
        <li>Deep dive: storage, communication, scaling, security, observability.</li>
        <li>Identify trade-offs and alternatives considered.</li>
        <li>Summarize risks, mitigations, and next steps.</li>
      </ol>
      <div class="callout warn">
        <strong>Common Pitfall:</strong> Over-engineering. Keep it as simple as possible while meeting requirements.
      </div>
    </section>

    <!-- ============== CASE EXAMPLE ============== -->
    <section class="section">
      <h2>Case Example: Scalable Chat App (≈220 words)</h2>
      <p>
        Suppose you pick the <strong>chat application</strong>. Requirements: 1M DAUs, mobile clients,
        offline message delivery, group chats, search. You design a <strong>gateway</strong> handling TLS + auth,
        <strong>chat services</strong> (stateless) handling message routing, and a <strong>message broker</strong>
        (Kafka) buffering writes. Messages are stored in a <strong>sharded DB</strong> (hash on userID),
        with replicas for reads. For offline users, a <strong>queue</strong> stores undelivered messages until acknowledgment.
        A <strong>search index</strong> (Elasticsearch) powers queries. <strong>Redis</strong> caches hot conversations.
        For scaling, you add horizontal replicas behind a load balancer, auto-scaling on CPU + queue depth.
      </p>
      <p>
        Security: TLS everywhere, OAuth2 for clients, <abbr title="End-to-End">E2E</abbr> encryption for DMs.
        Privacy: retention policies, GDPR delete flows. Compliance: logins and audit logs stored with tenant-aware encryption keys.
        Observability: RED metrics on gateway (RPS, errors, latency), USE on DB/broker, traces spanning client→gateway→chat service→DB.
        Alerts tie to SLOs (99.9% message delivery in &lt;2s). Trade-offs: denormalized DB for speed vs. consistency;
        added broker complexity vs. direct writes; cost of search vs. richer UX. Presenting this design with diagrams
        and trade-offs demonstrates intermediate mastery.
      </p>
    </section>

    <!-- ============== ANALOGY ============== -->
    <section class="section">
      <h2>Analogy: Orchestra Performance</h2>
      <p>
        Designing a capstone system is like conducting an <strong>orchestra</strong>.
        Strings (storage), percussion (networking), winds (security), brass (observability)
        must each play in time. If one section overpowers or lags, the performance falters.
        The conductor (you) ensures harmony—balancing trade-offs and tempo.
      </p>
    </section>

    <!-- ============== PRACTICE TASKS ============== -->
    <section class="section practice">
      <h2>Practice</h2>
      <div class="task">
        <h3>Draft Requirements</h3>
        <p class="meta">⏱️ 30–45 min · Success: clear functional + non-functional list</p>
      </div>
      <div class="task">
        <h3>Produce Architecture Diagram</h3>
        <p class="meta">⏱️ 40–60 min · Success: logical + deployment diagram, labeled components</p>
      </div>
      <div class="task">
        <h3>Write a Trade-off Document</h3>
        <p class="meta">⏱️ 45–60 min · Success: at least 3 trade-offs with alternatives and rationale</p>
      </div>
      <div class="task">
        <h3>Present to a Peer</h3>
        <p class="meta">⏱️ 30 min · Success: articulate design and field questions</p>
      </div>
    </section>

    <!-- ============== MASTERY CHECK ============== -->
    <section class="section mastery">
      <h2>Mastery Check</h2>
      <div class="quiz-controls">
        <button class="btn" data-quiz-toggle="open">Open all answers</button>
        <button class="btn" data-quiz-toggle="close">Close all</button>
      </div>
      <details>
        <summary>1) Why is simplicity valuable in system design?</summary>
        <div><p>Simplicity reduces failure modes, cognitive load, and operating cost; complex systems fail in complex ways.</p></div>
      </details>
      <details>
        <summary>2) How to defend a trade-off in a design review?</summary>
        <div><p>State the objective, alternatives considered, chosen approach, and risks. Anchor to metrics and requirements.</p></div>
      </details>
      <details>
        <summary>3) Example of scaling choice for chat app?</summary>
        <div><p>Hash-based sharding on userID to distribute messages; add read replicas for group chat fan-out.</p></div>
      </details>
      <details>
        <summary>4) What’s the role of observability in the capstone?</summary>
        <div><p>To ensure reliability goals are measurable and incidents diagnosable. Without it, designs can’t be validated.</p></div>
      </details>
      <details>
        <summary>5) Why include compliance in design?</summary>
        <div><p>Regulatory obligations (GDPR, PCI, HIPAA) shape data handling. Ignoring them creates rework and liability.</p></div>
      </details>
      <details>
        <summary>6) How does the capstone prepare you for advanced study?</summary>
        <div><p>By integrating all intermediate skills, surfacing trade-offs, and building readiness for advanced topics like consensus, multi-region scaling, and distributed algorithms.</p></div>
      </details>
    </section>

    <!-- ============== RECAP & NEXT STEPS ============== -->
    <section class="section">
      <h2>Recap &amp; Next Steps</h2>
      <p>
        This capstone consolidates your learning. The next chapter explores <strong>pitfalls and anti-patterns</strong>
        plus advice on progressing to advanced system design.
      </p>
    </section>

    <!-- ============== NEXT/PREV ============== -->
    <nav class="next-prev" aria-label="Chapter navigation">
      <a href="chapters/ch08.html" rel="prev">Previous: Observability &amp; Operational Excellence</a>
      <a href="chapters/ch10.html" rel="next">Next: Pitfalls, Anti-Patterns &amp; Next Steps</a>
    </nav>

    <!-- ============== HIDDEN CHECKLIST COMMENT ============== -->
    <!--
    - [x] theme.css+app.js loaded
    - [x] <base> present & correct (../)
    - [x] Canonical nav verbatim; active link set by app.js
    - [x] Pager prev/next valid (ch08 ↔ ch10)
    - [x] ≥1,200 words; ≥2 examples; 1 case study; 1 analogy
    - [x] Practice 3–5 with criteria
    - [x] Mastery 5–7 with answers
    - [x] ≥8 glossarized terms; ≥1 figure (optional diagrams allowed)
    - [x] Head/meta ok; no TODOs
    -->
  </main>
</body>
</html>
